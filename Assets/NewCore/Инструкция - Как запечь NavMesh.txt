═══════════════════════════════════════════════════════════════════
  КАК ЗАПЕЧЬ NAVMESH — чтобы NPC обходил стены и не шёл сквозь них
═══════════════════════════════════════════════════════════════════

ВАЖНО: После сохранения этого файла Unity автоматически импортирует пакет
AI Navigation (2.0.4). Подожди несколько секунд, пока Unity перезагрузится.

═══════════════════════════════════════════════════════════════════
ШАГ 1: Проверь, что пакет установлен
═══════════════════════════════════════════════════════════════════

1. В Unity: Window → Package Manager
2. В выпадающем списке слева выбери "In Project"
3. Найди "AI Navigation" — должна быть версия 2.0.4 или выше
4. Если его нет — подожди ещё немного, Unity загружает пакет

═══════════════════════════════════════════════════════════════════
ШАГ 2: Добавь NavMesh Surface на сцену
═══════════════════════════════════════════════════════════════════

В Unity 6 NavMesh запекается через компонент NavMesh Surface:

1. В Hierarchy выбери любой GameObject (например, создай пустой: 
   GameObject → Create Empty, назови "NavMeshBaker")

2. Add Component → Nav Mesh Surface

3. В Inspector у Nav Mesh Surface:
   - Agent Type: Humanoid (по умолчанию)
   - Collect Objects: All (собирать все объекты сцены)
   - Include Layers: Everything (или выбери слои с полом/стенами)

═══════════════════════════════════════════════════════════════════
ШАГ 3: Пометь объекты как Navigation Static
═══════════════════════════════════════════════════════════════════

Выбери объекты, которые должны участвовать в навигации:

▶ ПОЛ (проходимая зона):
  1. В Hierarchy выбери объект пола
  2. В Inspector справа вверху нажми галочку Static
  3. В выпадающем меню включи "Navigation Static"
  
▶ СТЕНЫ, СТОЛЫ, СТУЛЬЯ (препятствия):
  1. Выбери стену/стол/стул
  2. Включи Static → Navigation Static
  3. Повтори для всех препятствий

СОВЕТ: Можно выбрать несколько объектов сразу (Shift/Ctrl + клик)
и включить Static для всех разом.

═══════════════════════════════════════════════════════════════════
ШАГ 4: Запеки NavMesh
═══════════════════════════════════════════════════════════════════

1. Выбери GameObject с компонентом Nav Mesh Surface
2. В Inspector внизу компонента нажми кнопку "Bake"
3. Подожди несколько секунд

РЕЗУЛЬТАТ: На полу появится СИНЯЯ СЕТКА — это NavMesh (проходимая зона).
Сетка будет обходить стены и препятствия.

═══════════════════════════════════════════════════════════════════
ШАГ 5: Настрой параметры (опционально)
═══════════════════════════════════════════════════════════════════

Если NPC застревает или NavMesh выглядит странно:

1. Выбери Nav Mesh Surface
2. Нажми "Open Agent Settings..."
3. Настрой:
   - Agent Radius: 0.3–0.5 (радиус NPC, чтобы не застревал)
   - Agent Height: 2.0 (рост NPC)
   - Max Slope: 45 (если есть лестницы)
   - Step Height: 0.4 (высота ступенек)
4. Нажми "Bake" снова

═══════════════════════════════════════════════════════════════════
ШАГ 6: Проверь NPC
═══════════════════════════════════════════════════════════════════

1. У NPC должен быть компонент Nav Mesh Agent
2. NPC должен стоять НА СИНЕЙ СЕТКЕ (на полу)
3. Точка назначения (пустой объект) тоже на синей сетке
4. Запусти сцену — NPC пойдёт по синей сетке, обходя стены

═══════════════════════════════════════════════════════════════════
АЛЬТЕРНАТИВА: Окно Navigation (старый способ)
═══════════════════════════════════════════════════════════════════

Если хочешь использовать старое окно Navigation:

1. Window → AI → Navigation (Obsolete)
2. Вкладка Bake
3. Настрой Agent Radius, Height и т.д.
4. Нажми Bake

НО: В Unity 6 рекомендуется использовать Nav Mesh Surface (способ выше).

═══════════════════════════════════════════════════════════════════
ГОТОВО!
═══════════════════════════════════════════════════════════════════

Теперь NPC с ClientNPC будет:
✓ Ждать открытия 2 дверей
✓ Идти к пустому объекту (точке)
✓ Обходить стены и препятствия по синей сетке NavMesh
✓ Пересчитывать путь при застревании

Если возникли проблемы — проверь, что:
- Пол и стены помечены как Navigation Static
- NPC стоит на синей сетке (NavMesh)
- У NPC есть Nav Mesh Agent и Client NPC
- В Client NPC заполнены Doors (2 двери) и Counter Target (пустой объект)
